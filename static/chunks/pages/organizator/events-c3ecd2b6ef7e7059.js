(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{769:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/organizator/events",function(){return n(7123)}])},3751:function(e,t,n){"use strict";var r=n(5893);n(7294),t.Z=e=>{let{handleAction:t}=e;return(0,r.jsx)("div",{className:"text-orange-700 cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})})}},5774:function(e,t,n){"use strict";var r=n(5893);n(7294),t.Z=e=>{let{handleAction:t}=e;return(0,r.jsx)("div",{className:"text-red-700 cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})}},965:function(e,t,n){"use strict";var r=n(5893);n(7294),t.Z=e=>{let{value:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{className:"text-white bg-green-700 px-4 py-2 rounded-md font-semibold",children:t})})}},5241:function(e,t,n){"use strict";var r=n(5893);n(7294),t.Z=e=>{let{placeholder:t,name:n,value:s,onChange:i}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("input",{name:n,value:s,onChange:i,className:"py-2 rounded-sm bg-slate-700 text-slate-300 px-2 text-md font-normal w-full outline-blue-600",placeholder:t})})}},3658:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5893),s=n(7294),i=n(7596),a=n(1649),l=e=>{let{handleMenu:t}=e,n=(0,a.v9)(i.dy);return(0,r.jsxs)("div",{className:"relative flex px-5 h-12 bg-stone-800 text-white items-center justify-between",children:[(0,r.jsx)("div",{onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),(0,r.jsx)("div",{children:"EVENTFLOW"}),(0,r.jsx)("div",{children:null==n?void 0:n.username})]})},o=n(1664),d=n.n(o),c=n(1163),v=()=>{let e=(0,a.I0)(),t=(0,c.useRouter)(),n=(0,a.v9)(i.dy);return console.log("\uD83D\uDE80 ~ file: Sidebar.tsx:11 ~ Sidebar ~ selecteduser:",n),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"absolute md:relative top-0 flex flex-col gap-3 w-[250px] min-h-[calc(100vh-48px)] px-7 py-10 bg-stone-950 text-white",children:[(null==n?void 0:n.userrole)==1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{href:"/admin/validate",children:"Validar"}),(0,r.jsx)(d(),{href:"/admin/users",children:"Buscar Usuarios"})]}),(null==n?void 0:n.userrole)==2&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{href:"/organizator/generalview",children:"Vista General"}),(0,r.jsx)(d(),{href:"/organizator/validate",children:"Validaciones Pendientes"}),(0,r.jsx)(d(),{href:"/organizator/events",children:"Mis Eventos"})]}),(null==n?void 0:n.userrole)==3&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{href:"/client/populars",children:"Populares"}),(0,r.jsx)(d(),{href:"/client/tickets",children:"Mis entradas"})]}),(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>{e(i.n0.logout()),t.push("/login")},children:"Cerrar Sesi\xf3n"})]})})},u=e=>{let{children:t}=e,[n,i]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{handleMenu:()=>i(!n)}),(0,r.jsxs)("div",{className:"relative md:flex bg-stone-700 text-white min-h-[calc(100vh-48px)]",children:[n&&(0,r.jsx)(v,{}),(0,r.jsx)("div",{className:"p-5 w-full mt-5",children:t})]})]})}},3489:function(e,t,n){"use strict";var r=n(5893);n(7294),t.Z=e=>{let{children:t,title:n,handleClose:s}=e;return(0,r.jsx)("div",{className:"absolute z-10 w-screen h-screen flex justify-center items-center bg-stone-950 bg-opacity-90",children:(0,r.jsxs)("div",{className:"bg-stone-300 w-10/12 md:w-7/12 rounded-md min-h-[200px] p-5",children:[(0,r.jsxs)("div",{className:"border-b-[1px] uppercase flex justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:n}),(0,r.jsx)("div",{className:"text-red-600 rounded-full flex justify-center items-center w-6 h-6 cursor-pointer hover:bg-red-600 hover:text-red-100",onClick:s,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),t]})})}},7123:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(3751),i=n(5774),a=n(965),l=n(5241),o=n(3658),d=n(3489),c=n(1472),v=n(1656),u=n(9629),h=n(1850),x=n(7596),m=n(5675),p=n.n(m),g=n(7294),j=n(44),f=n(1649);let w={idevent:0,idorganizer:0,eventday:"",eventtitle:"",capacity:0,mustbeidentified:!1,department:"",province:"",district:"",address:"",isvirtual:!1,img:"",state:0};t.default=()=>{let e=(0,f.I0)(),{user:t,status:n}=(0,f.v9)(x.YN),{people:m}=(0,f.v9)(v.P7),{allevents:b}=(0,f.v9)(c.pS),{tickets:N}=(0,f.v9)(h.Tz),{prices:k}=(0,f.v9)(u.W1),[C,y]=(0,g.useState)({event:w,show:!1}),E=b.filter(e=>1===e.state&&e.idorganizer===(null==t?void 0:t.idperson)),Z=N.map(e=>{let t={...e};return k.forEach(n=>{e.idprice===n.idprice&&(t.price=n)}),t}),L=E.map(e=>{let t=0,n={...e};return Z.forEach(n=>{var r;(null===(r=n.price)||void 0===r?void 0:r.idevent)===e.idevent&&(t+=n.quantitybought)}),n.selled=t,n}),F=[{name:"EVENTO",selector:e=>e.eventtitle,sortable:!0,center:!0,reorder:!0},{name:"ACCIONES",selector:e=>e.idevent,cell:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{handleAction:()=>z(e)}),(0,r.jsx)(i.Z,{handleAction:()=>_(e)})]}),sortable:!0,center:!0,reorder:!0}],_=t=>{e(c.dF.decline(t))},z=e=>{y({event:e,show:!0})},M=e=>{y({show:!0,event:{...C.event,[e.target.name]:e.target.value}})};return(0,r.jsxs)(r.Fragment,{children:[C.show&&(0,r.jsx)(d.Z,{title:0===C.event.idevent?"Crear Evento":"Editar Evento",handleClose:()=>y({...C,show:!1}),children:(0,r.jsxs)("form",{className:"py-5 w-10/12 mx-auto flex gap-3 flex-col",onSubmit:n=>{if(n.preventDefault(),0!==C.event.idevent)e(c.dF.update(C.event));else{let n={idevent:b.length+1,idorganizer:null==t?void 0:t.iduser,eventday:C.event.eventday,eventtitle:C.event.eventtitle,capacity:+C.event.capacity,mustbeidentified:!1,department:C.event.department,province:C.event.province,district:C.event.district,address:C.event.address,isvirtual:!1,img:"img2.png",state:7};e(c.dF.create(n))}y({show:!1,event:w})},children:[(0,r.jsx)(p(),{alt:"Imagen",src:"/img2.png",width:350,height:350,className:"mx-auto"}),(0,r.jsx)(l.Z,{onChange:M,name:"eventtitle",value:C.event.eventtitle,placeholder:"Titulo"}),(0,r.jsx)(l.Z,{onChange:M,name:"eventday",value:C.event.eventday,placeholder:"Fecha"}),(0,r.jsx)(l.Z,{onChange:M,name:"address",value:C.event.address,placeholder:"Direcci\xf3n"}),(0,r.jsx)(l.Z,{onChange:M,name:"district",value:C.event.district,placeholder:"Distrito"}),(0,r.jsx)(l.Z,{onChange:M,name:"province",value:C.event.province,placeholder:"Provincia"}),(0,r.jsx)(l.Z,{onChange:M,name:"department",value:C.event.department,placeholder:"Departamento"}),(0,r.jsx)(l.Z,{onChange:M,name:"capacity",value:"".concat(C.event.capacity),placeholder:"Capacidad"}),(0,r.jsx)(a.Z,{value:0===C.event.idevent?"Enviar a Revisi\xf3n":"Grabar"})]})}),(0,r.jsx)(o.Z,{children:"succeeded"===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{onClick:()=>{y({event:w,show:!0})},className:"bg-blue-500 text-white px-5 pb-3 pt-2 cursor-pointer text-center rounded mb-5 inline-block font-semibold",children:"Agregar"}),(0,r.jsx)(j.ZP,{title:"Eventos Activos",pagination:!0,data:L,columns:F,noDataComponent:"No existen datos para mostrar"})]})})]})}}},function(e){e.O(0,[664,675,185,774,888,179],function(){return e(e.s=769)}),_N_E=e.O()}]);