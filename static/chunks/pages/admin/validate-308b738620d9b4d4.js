(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{6377:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/validate",function(){return n(3961)}])},3658:function(e,s,n){"use strict";n.d(s,{Z:function(){return h}});var r=n(5893),t=n(7294),i=n(7596),l=n(1649),a=e=>{let{handleMenu:s}=e,n=(0,l.v9)(i.dy);return(0,r.jsxs)("div",{className:"relative flex px-5 h-12 bg-stone-800 text-white items-center justify-between",children:[(0,r.jsx)("div",{onClick:s,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),(0,r.jsx)("div",{children:"EVENTFLOW"}),(0,r.jsx)("div",{children:null==n?void 0:n.username})]})},d=n(1664),o=n.n(d),c=n(1163),u=()=>{let e=(0,l.I0)(),s=(0,c.useRouter)(),n=(0,l.v9)(i.dy);return console.log("\uD83D\uDE80 ~ file: Sidebar.tsx:11 ~ Sidebar ~ selecteduser:",n),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"absolute md:relative top-0 flex flex-col gap-3 w-[250px] min-h-[calc(100vh-48px)] px-7 py-10 bg-stone-950 text-white",children:[(null==n?void 0:n.userrole)==1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/admin/validate",children:"Validar"}),(0,r.jsx)(o(),{href:"/admin/users",children:"Buscar Usuarios"})]}),(null==n?void 0:n.userrole)==2&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/organizator/generalview",children:"Vista General"}),(0,r.jsx)(o(),{href:"/organizator/validate",children:"Validaciones Pendientes"}),(0,r.jsx)(o(),{href:"/organizator/events",children:"Mis Eventos"})]}),(null==n?void 0:n.userrole)==3&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/client/populars",children:"Populares"}),(0,r.jsx)(o(),{href:"/client/tickets",children:"Mis entradas"})]}),(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>{e(i.n0.logout()),s.push("/login")},children:"Cerrar Sesi\xf3n"})]})})},h=e=>{let{children:s}=e,[n,i]=(0,t.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{handleMenu:()=>i(!n)}),(0,r.jsxs)("div",{className:"relative md:flex bg-stone-700 text-white min-h-[calc(100vh-48px)]",children:[n&&(0,r.jsx)(u,{}),(0,r.jsx)("div",{className:"p-5 w-full mt-5",children:s})]})]})}},3489:function(e,s,n){"use strict";var r=n(5893);n(7294),s.Z=e=>{let{children:s,title:n,handleClose:t}=e;return(0,r.jsx)("div",{className:"absolute z-10 w-screen h-screen flex justify-center items-center bg-stone-950 bg-opacity-90",children:(0,r.jsxs)("div",{className:"bg-stone-300 w-10/12 md:w-7/12 rounded-md min-h-[200px] p-5",children:[(0,r.jsxs)("div",{className:"border-b-[1px] uppercase flex justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:n}),(0,r.jsx)("div",{className:"text-red-600 rounded-full flex justify-center items-center w-6 h-6 cursor-pointer hover:bg-red-600 hover:text-red-100",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),s]})})}},3961:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return f}});var r=n(5893),t=n(5675),i=n.n(t),l=n(7294),a=e=>{let{event:s}=e;return(0,r.jsxs)("div",{className:"bg-stone-600 w-48 p-3 rounded-md my-1",children:[(0,r.jsx)(i(),{src:"/".concat(s.img),alt:"Imagen",width:150,height:150,className:"mx-auto my-1"}),(0,r.jsx)("h3",{className:"text-center font-semibold my-1",children:s.eventtitle}),(0,r.jsx)("h3",{className:"text-sm text-center",children:s.eventday})]})},d=e=>{var s,n;let{user:t}=e;return(0,r.jsxs)("div",{className:"bg-stone-600 w-48 p-3 rounded-md my-1 text-sm",children:[(0,r.jsx)("h2",{children:"Nombres:"}),(0,r.jsxs)("p",{children:[null===(s=t.person)||void 0===s?void 0:s.personnames," ",null===(n=t.person)||void 0===n?void 0:n.personlastnames]}),(0,r.jsxs)("p",{children:["Solicitado en: ",null==t?void 0:t.required]})]})},o=n(3658),c=n(3489),u=n(1472),h=n(1656),x=n(9629),m=n(7596),p=n(1649);let v={idevent:0,idorganizer:0,eventday:"",eventtitle:"",capacity:0,mustbeidentified:!1,department:"",province:"",district:"",address:"",isvirtual:!1,img:"",state:0},j={iduser:0,idperson:0,state:0,userrole:0,username:"",userpass:""};var f=()=>{var e,s,n,t,f,w,g,N;let b=(0,p.I0)(),{allevents:y}=(0,p.v9)(u.pS),{users:k}=(0,p.v9)(m.YN),{people:C}=(0,p.v9)(h.P7),{prices:E}=(0,p.v9)(x.W1),_=k.filter(e=>7===e.state),F=y.filter(e=>7===e.state),[S,V]=(0,l.useState)({event:v,show:!1}),[z,M]=(0,l.useState)({user:j,show:!1}),I=e=>{let s={...e},n=E.filter(s=>s.idevent===e.idevent);s.prices=n,V({event:s,show:!0})},L=e=>{let s={...e},n=C.filter(s=>s.idperson===e.idperson);1===n.length&&(s.person=n[0]),M({user:s,show:!0})};return(0,r.jsxs)(r.Fragment,{children:[S.show&&(0,r.jsxs)(c.Z,{title:S.event.eventtitle,handleClose:()=>V({...S,show:!1}),children:[(0,r.jsx)(i(),{alt:"Imagen",src:"/".concat(S.event.img),width:400,height:400,className:"mx-auto my-2"}),(0,r.jsx)("p",{className:"text-center",children:S.event.eventday}),(0,r.jsx)("p",{className:"text-center",children:S.event.address}),(0,r.jsxs)("span",{className:"text-center",children:["Precios:",null===(e=S.event.prices)||void 0===e?void 0:e.map(e=>(0,r.jsx)("p",{className:"pl-2",children:"".concat(e.price,".00")},e.idprice))]}),(0,r.jsxs)("div",{className:"mt-3 flex justify-around",children:[(0,r.jsx)("span",{onClick:()=>{b(u.dF.validate(S.event)),V({event:v,show:!1})},className:"bg-purple-700 px-3 py-1 text-white rounded cursor-pointer",children:"Validar evento"}),(0,r.jsx)("span",{onClick:()=>{b(u.dF.decline(S.event)),V({event:v,show:!1})},className:"bg-red-700 px-3 py-1 text-white rounded cursor-pointer",children:"Rechazar"})]})]}),z.show&&(0,r.jsxs)(c.Z,{title:"".concat(null===(s=z.user.person)||void 0===s?void 0:s.personnames," ").concat(null===(n=z.user.person)||void 0===n?void 0:n.personlastnames),handleClose:()=>M({...z,show:!1}),children:[(0,r.jsx)(i(),{alt:"Imagen",src:"/dni",width:400,height:400,className:"mx-auto my-2"}),(0,r.jsx)("p",{className:"text-center",children:null===(t=z.user.person)||void 0===t?void 0:t.personnames}),(0,r.jsx)("p",{className:"text-center",children:null===(f=z.user.person)||void 0===f?void 0:f.personlastnames}),(0,r.jsxs)("p",{className:"text-center",children:[(null===(w=z.user.person)||void 0===w?void 0:w.documenttype)===1?"DNI":"Carn\xe9 Extranjeria"," ",null===(g=z.user.person)||void 0===g?void 0:g.documentnumber]}),(0,r.jsx)("p",{className:"text-center",children:null===(N=z.user.person)||void 0===N?void 0:N.district}),(0,r.jsxs)("div",{className:"mt-3 flex justify-around",children:[(0,r.jsx)("span",{onClick:()=>{b(m.n0.validateuser(z.user)),M({user:j,show:!1})},className:"bg-purple-700 px-3 py-1 text-white rounded cursor-pointer",children:"Validar"}),(0,r.jsx)("span",{onClick:()=>{b(m.n0.decline(z.user)),M({user:j,show:!1})},className:"bg-red-700 px-3 py-1 text-white rounded cursor-pointer",children:"Rechazar"})]})]}),(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"p-5 bg-stone-800 w-11/12 mx-auto",children:[(0,r.jsx)("h2",{className:"text-lg mb-2",children:"Validaciones pendientes - Eventos"}),(0,r.jsx)("div",{className:"mx-auto flex flex-wrap gap-5 justify-center",children:F.map(e=>(0,r.jsx)("div",{onClick:()=>I(e),className:"cursor-pointer",children:(0,r.jsx)(a,{event:e})},e.idevent))}),(0,r.jsx)("h2",{className:"text-lg mb-2 mt-5",children:"Validaciones pendientes - Usuarios"}),(0,r.jsx)("div",{className:"mx-auto flex flex-wrap gap-2",children:_.map(e=>{let s={...e};return C.forEach(n=>{n.idperson===e.idperson&&(s.person=n)}),(0,r.jsx)("div",{onClick:()=>L(e),className:"mx-auto cursor-pointer",children:(0,r.jsx)(d,{user:s})},s.iduser)})})]})})]})}},1163:function(e,s,n){e.exports=n(6885)}},function(e){e.O(0,[664,675,774,888,179],function(){return e(e.s=6377)}),_N_E=e.O()}]);